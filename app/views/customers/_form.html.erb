<%= form_with(model: customer, local: true,class: "ui form") do |form| %>
  <% if customer.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(customer.errors.count, "error") %> prohibited this customer from being saved:</h2>

      <ul>
      <% customer.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="wide column">
    <%= form.label :name %>
    <%= form.text_field :name %>
  </div>
<br>
<div class="ui grid">
  <div class="four wide column">
    <%= form.label :house_num %>
    <%= form.text_field :house_num %>
  </div>

  <div class="four wide column">
    <%= form.label :build %>
    <%= form.text_field :build %>
  </div>

  <div class="four wide column">
    <%= form.label :group %>
    <%= form.text_field :group %>
  </div>

  <div class="four wide column">
    <%= form.label :road %>
    <%= form.text_field :road %>
  </div>

  <div class="four wide column">
    <%= form.label :district %>
    <%= form.text_field :district,id:"district" %>
  </div>

  <div class="four wide column">
    <%= form.label :township %>
    <%= form.text_field :township,id:"amphoe" %>
  </div>

  <div class="four wide column">
    <%= form.label :city %>
    <%= form.text_field :city,id:"province" %>
  </div>

  <div class="four wide column">
    <%= form.label :mail %>
    <%= form.number_field :mail,id:"zipcode" %>
  </div>

  <div class="four wide column">
    <%= form.label :tel %>
    <%= form.telephone_field :tel %>
  </div>
  <br>


  </div>
  <div class="four wide column">
  <%= form.label :upload %>
    <span class="btn btn-default btn-file">
    <%= form.file_field :image ,class:"ui input focus",id:"avatar-upload" , onchange: "validateFiles(this);"%>
  </span>
    <br>
    <br>
    <img id="img_prev" src="#" alt="your image" class="image-size"  style="max-height: 1080px;max-width: 720px;"/> <br/>
    <%= form.hidden_field :avatar_cache %>
    </div>
  <br>
  <div class="actions">
  <%= form.submit "Create Customer data",class:"ui primary button"%>
</div>
<% end %>

<script>
    $(function() {
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#img_prev').attr('src', e.target.result);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        $("#avatar-upload").change(function(){
            $('#img_prev').removeClass('hidden');
            readURL(this);
        });
        $.Thailand({
            $district: $('#district'), // input ของตำบล
            $amphoe: $('#amphoe'), // input ของอำเภอ
            $province: $('#province'), // input ของจังหวัด
            $zipcode: $('#zipcode'), // input ของรหัสไปรษณีย์
        });

    });
</script>